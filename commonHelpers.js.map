{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '44373607-23d837ad960924b19f5bc44a0';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        throw new Error('No images found');\n      }\n      return data;\n    });\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function renderImageGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = images.map(image => {\n    return `\n      <div class=\"photo-card\">\n        <a href=\"${image.largeImageURL}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n          <div class=\"info-item\">\n            <p class=\"info-title\">Likes</p>\n            <p class=\"info-value\">${image.likes}</p>\n          </div>\n          <div class=\"info-item\">\n            <p class=\"info-title\">Views</p>\n            <p class=\"info-value\">${image.views}</p>\n          </div>\n          <div class=\"info-item\">\n            <p class=\"info-title\">Comments</p>\n            <p class=\"info-value\">${image.comments}</p>\n          </div>\n          <div class=\"info-item\">\n            <p class=\"info-title\">Downloads</p>\n            <p class=\"info-value\">${image.downloads}</p>\n          </div>\n        </div>\n      </div>\n    `;\n  }).join('');\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImageGallery, showError } from './js/render-functions.js';\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('input[name=\"query\"]');\nconst gallery = document.querySelector('.gallery');\n\nfunction showLoader() {\n  document.getElementById('loader').style.display = 'block';\n}\n\nfunction hideLoader() {\n  document.getElementById('loader').style.display = 'none';\n}\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n  const query = input.value.trim();\n\n  if (query === '') {\n    showError('Please enter a search query.');\n    return;\n  }\n\n  form.reset();\n\n  showLoader(); // Показуємо лоадер перед завантаженням зображень\n\n  fetchImages(query)\n    .then(data => {\n      hideLoader(); // Приховуємо лоадер після завантаження зображень\n      if (data.hits.length === 0) {\n        showError('Sorry, there are no images matching your search query. Please try again!');\n        return;\n      }\n      renderImageGallery(data.hits);\n    })\n    .catch(error => {\n      hideLoader(); // Приховуємо лоадер у випадку помилки\n      showError('Something went wrong. Please try again later.');\n      console.error(error);\n    });\n  \n});"],"names":["API_KEY","BASE_URL","fetchImages","query","params","url","response","data","lightbox","renderImageGallery","images","gallery","image","SimpleLightbox","showError","message","iziToast","form","input","showLoader","hideLoader","e","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKE,EAAM,GAAGJ,CAAQ,IAAIG,CAAM,GAEjC,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,iBAAiB,EAEnC,OAAOA,CACb,CAAK,CACL,CCtBA,IAAIC,EAEG,SAASC,EAAmBC,EAAQ,CACzC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EAAO,IAAIE,GACtB;AAAA;AAAA,mBAEQA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oCAKxBA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,oCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAKhD,EAAE,KAAK,EAAE,EAELJ,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIK,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CAEO,SAASC,EAAUC,EAAS,CACjCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,CCjDA,MAAME,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,qBAAqB,EAC1C,SAAS,cAAc,UAAU,EAEjD,SAASC,GAAa,CACpB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OACpD,CAEA,SAASC,GAAa,CACpB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,MACpD,CAEAH,EAAK,iBAAiB,SAAWI,GAAM,CACrCA,EAAE,eAAc,EAChB,MAAMlB,EAAQe,EAAM,MAAM,KAAI,EAE9B,GAAIf,IAAU,GAAI,CAChBW,EAAU,8BAA8B,EACxC,MACD,CAEDG,EAAK,MAAK,EAEVE,IAEAjB,EAAYC,CAAK,EACd,KAAKI,GAAQ,CAEZ,GADAa,IACIb,EAAK,KAAK,SAAW,EAAG,CAC1BO,EAAU,0EAA0E,EACpF,MACD,CACDL,EAAmBF,EAAK,IAAI,CAClC,CAAK,EACA,MAAMe,GAAS,CACdF,IACAN,EAAU,+CAA+C,EACzD,QAAQ,MAAMQ,CAAK,CACzB,CAAK,CAEL,CAAC"}